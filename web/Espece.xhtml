<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Espèce</title>
        <link href="assets/css/bootstrap.css" rel="stylesheet"/>
        <!--external css-->
        <link href="assets/font-awesome/css/font-awesome.css" rel="stylesheet" />
        <link href="assets/img/logo_TPF.ico" rel="shortcut icon" />
        <!-- Custom styles for this template -->
        <link href="assets/css/style.css" rel="stylesheet"/>
        <link href="assets/css/style-responsive.css" rel="stylesheet"/>
        <link href="assets/css/style-responsive.css" rel="stylesheet"/>

    </h:head>
    <h:body style="font-family: 'Open Sans';zoom: 90%;">
        <section id="container" >
            <!-- **********************************************************************************************************************************************************
            TOP BAR CONTENT & NOTIFICATIONS
            *********************************************************************************************************************************************************** -->
            <!--header start-->
            <header class="header " style="background: #424A5D;" >
                <div class="sidebar-toggle-box">
                    <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Toggle Navigation"></div>
                </div>
                <!--logo start-->
                <a class="logo"><b>RECENS APP</b></a>
                <!--logo end-->
                <div class="nav notify-row" id="top_menu">
                    <!--  notification start -->

                    <!--  notification end -->
                </div>
                <h:form>
                    <div class="top-menu">
                        <ul class="nav pull-right top-menu">
                            <li>
                                <b:commandLink iconAwesome="fa fa-power-off" class="logout" action="#{login.logout}" value="Se deconnecter"></b:commandLink>
                            </li>
                        </ul>
                    </div></h:form>
            </header>
            <!--header end-->

            <!-- **********************************************************************************************************************************************************
            MAIN SIDEBAR MENU
            *********************************************************************************************************************************************************** -->
            <!--sidebar start-->
            <aside>
                <div id="sidebar"  class="nav-collapse bg-gray-800 ">
                    <!-- sidebar menu start-->
                    <ul class="sidebar-menu " id="nav-accordion">
                        <h5 class="centered" style="font-weight: 100;">#{login.typeUser(login.user)}</h5>
                        <p class="centered"><img src="assets/img/logo_TPF.jpg" class="img-circle" width="60"/></p>
                        <h5 class="centered">#{login.user}</h5>

                        <li class=" mt " >
                            <a  href="Accueil.xhtml">
                                <i class=" fa fa-home"></i>
                                <span >Accueil</span>
                            </a>
                        </li>

                        <li class="sub-menu">
                            <a  href="javascript:;" >
                                <i class="fa fa-users"></i>
                                <span>Personnes</span>
                            </a>
                            <ul class="sub">
                                <li><a  href="Personnes.xhtml">Types de personne</a></li>
                                <c:if test="#{login.typeUser(login.user)=='Administrateur'}">
                                    <li><a  href="Carriere.xhtml">Types de carrière</a></li>
                                </c:if>

                            </ul>
                        </li>

                        
                            <li class="sub-menu">
                                <a class="active" href="javascript:;" >
                                    <i class="fa fa-try"></i>
                                    <span>Espèces</span>
                                </a>
                                <ul class="sub">
                                    <li class="active"><a  href="Espece.xhtml">Espèce</a></li>
                                    <c:if test="#{login.typeUser(login.user)=='Administrateur'}">
                                    <li><a  href="Regne.xhtml">Règne</a></li>
                                    <li ><a  href="Embranchement.xhtml">Embranchement</a></li>
                                    <li><a  href="Classe.xhtml">Classe</a></li>
                                    <li><a  href="Ordre.xhtml">Ordre</a></li>                                
                                    <li><a  href="Famille.xhtml">Famille</a></li>
                                    <li><a  href="Genre.xhtml">Genre</a></li>
                                    <li><a  href="StatusUCN.xhtml">Statut IUCN</a></li>
                                    </c:if>
                                </ul>
                            </li>
                        

                        <li class="sub-menu">
                            <a  href="javascript:;" >
                                <i class="fa fa-compass"></i>
                                <span>Collecte</span>
                            </a>
                            <ul class="sub">
                                <li><a  href="Collection.xhtml">Collection</a></li>
                                <c:if test="#{login.typeUser(login.user)=='Administrateur'}">
                                    <li><a  href="CodeCollection.xhtml">Code de collection</a></li>
                                    <li ><a  href="MethodeObs.xhtml">Méthode d'observation</a></li>                                
                                    <li><a  href="MethodeCapture.xhtml">Méthode de capture</a></li>
                                </c:if>
                            </ul>
                        </li>

                        <li class="sub-menu">
                            <a  href="javascript:;" >
                                <i class="fa fa-map-marker"></i>
                                <span>Localisation</span>
                            </a>
                            <ul class="sub">
                                <li><a  href="Site.xhtml">Site</a></li>
                                <c:if test="#{login.typeUser(login.user)=='Administrateur'}">
                                    <li><a  href="Region.xhtml">Region</a></li>
                                    <li><a  href="District.xhtml">District</a></li>
                                    <li><a  href="Commune.xhtml">Commune</a></li>
                                </c:if>
                            </ul>
                        </li>


                        <li class="sub-menu">
                            <a href="javascript:;" >
                                <i class=" fa fa-bar-chart-o"></i>
                                <span>Autres</span>
                            </a>
                            <ul class="sub">
                                <li><a  href="Bilan.xhtml">Bilans</a></li>
                                <c:if test="#{login.typeUser(login.user)=='Administrateur'}">
                                    <li><a  href="Comptes.xhtml">Comptes</a></li>
                                </c:if>
                            </ul>
                        </li>

                    </ul>
                    <!-- sidebar menu end-->
                </div>
            </aside>
            <!--sidebar end-->

            <!-- **********************************************************************************************************************************************************
            MAIN CONTENT
            *********************************************************************************************************************************************************** -->
            <!--main content start-->
            <section id="main-content">
                <section class="wrapper site-min-height">
                    <div class="mt" style="margin-top: 1.5rem;">
                        <h4 style="font-weight: 300;"><i class="fa fa-try"></i> Espèces <i class="fa fa-angle-right"></i> Liste des espèces</h4>
                    </div>
                    <hr></hr>

                    <div class="panel panel-theme" style="zoom: 90%;">
                        <div class="panel-heading">Liste des espèces</div>
                        <div class="panel-body">
                            <div class="row">
                                <div style="margin-left: 1rem;">
                                    La liste de toutes les espèces étudiées au sein du TPF Madagascar
                                    <c:if test="#{login.typeUser(login.user)=='Administrateur'}">
                                    <form  action="NouveauEspece.xhtml" style="margin-top: 0.5rem;">                      
                                        <button class="btn  btn-theme btn-sm" type="submit"><i class="fa fa-plus"></i> Nouvelle espèce </button>
                                    </form>
                                    </c:if>
                                </div>

                                <div class="col-md-12" style="margin-top: 1rem;">
                                    <f:view>
                                        <h:form>
                                            <style>
                                                .endemique{
                                                    background: #FFCE45;
                                                }

                                            </style>


                                            <p:dataTable class="form-group" id="tbl" var="item" value="#{bean_Espece.lister()}"
                                                         paginator="true"
                                                         emptyMessage="Aucune donnée à afficher"
                                                         rowStyleClass=" #{item.endemisme eq 'Endemique' ? 'endemique' :null}"
                                                         currentPageReportTemplate="{startRecord} à {endRecord} sur les {totalRecords} espèces"
                                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}"
                                                         rowsPerPageTemplate="5,10,15" rows="5"  style="font-family: 'Open Sans';margin-bottom:20px;zoom: 85%;"  widgetVar="motcle" scrollable="true">

                                                <f:facet name="{Exporters}">
                                                    <div style="float:right;padding-top: 5px; margin-right: 30rem;">
                                                        
                                                        <h:commandLink>
                                                            <p:graphicImage url="assets/img/excel.png" width="25" title="Exporter en EXCEL"/>
                                                            <p:dataExporter type="xls" target="tbl" fileName="espece" />
                                                        </h:commandLink>
                                                        
                                                        <h:commandLink>
                                                            <p:graphicImage url="assets/img/csv.png" width="25" title="Exporter en CSV"/>
                                                            <p:dataExporter type="csv" target="tbl" fileName="espece"  />
                                                        </h:commandLink>
                                                        

                                                        <h:commandLink>
                                                            <p:graphicImage url="assets/img/pdf.png" width="25" title="Exporter en PDF"/>
                                                            <p:dataExporter type="pdf" target="tbl" fileName="espece"/>
                                                        </h:commandLink>

                                                    </div>
                                                </f:facet>
                                                <c:if test="#{login.typeUser(login.user)=='Administrateur'}">
                                                <p:column width="80" exportable="false">
                                                    <f:facet name="header">

                                                    </f:facet>

                                                    <b:commandButton  iconAwesome="fa fa-edit fa-1x" title="Modifier" style="font-family: 'Open Sans';" class="btn btn-sm btn-warning" action="#{bean_Espece.obtenir(item.id)}"/>

                                                </p:column>
                                                <p:column width="80" exportable="false">
                                                    <f:facet name="header">

                                                    </f:facet>
                                                    <b:commandButton  iconAwesome="fa fa-trash-o fa-1x" title="Supprimer" style="font-family: 'Open Sans';" class="btn btn-sm btn-danger" action="#{bean_Espece.obtenirPourSupprimer(item.id)}"/>

                                                </p:column>
                                                    </c:if>
                                                <p:column width="80" exportable="false">
                                                    <f:facet name="header">

                                                    </f:facet>
                                                    <b:commandButton iconAwesome="fa fa-search fa-1x" title="Visualiser" style="font-family: 'Open Sans'; background: #CECECE;" action="#{bean_Espece.visualiser(item.id)}" class="btn btn-sm " />
                                                </p:column>

                                                <p:column width="70">
                                                    <f:facet name="header">
                                                        <h:outputText value="Id" />
                                                    </f:facet>
                                                    <h:outputText value="#{item.id}" />
                                                </p:column>

                                                <p:column width="350" filterBy="#{item.nomscientifiqueavant}">
                                                    <f:facet name="header">
                                                        <h:outputText value="Nom scientifique auparavant"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.nomscientifiqueavant}" />
                                                </p:column>

                                                <p:column width="350" filterBy="#{item.nomscientifiqueactuel}">
                                                    <f:facet name="header">
                                                        <h:outputText value="Nom scientifique actuel"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.nomscientifiqueactuel}" />
                                                </p:column>

                                                <p:column width="350" filterBy="#{item.sexeesp}">
                                                    <f:facet name="header">
                                                        <h:outputText value="Sexe de l'espèce"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.sexeesp}" />
                                                </p:column>

                                                <p:column width="350" filterBy="#{item.desregne}">
                                                    <f:facet name="header">
                                                        <h:outputText value="Règne"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.desregne}" />
                                                </p:column>

                                                <p:column width="350" filterBy="#{item.desembranchement}">
                                                    <f:facet name="header">
                                                        <h:outputText value="Embranchement"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.desembranchement}" />
                                                </p:column>

                                                <p:column width="350" filterBy="#{item.desclasse}">
                                                    <f:facet name="header">
                                                        <h:outputText value="Classe"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.desclasse}" />
                                                </p:column>

                                                <p:column width="350" filterBy="#{item.desordre}">
                                                    <f:facet name="header">
                                                        <h:outputText value="Ordre"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.desordre}" />
                                                </p:column>

                                                <p:column width="350" filterBy="#{item.desfamille}">
                                                    <f:facet name="header">
                                                        <h:outputText value="Famille"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.desfamille}" />
                                                </p:column>

                                                <p:column width="350" filterBy="#{item.desgenre}">
                                                    <f:facet name="header">
                                                        <h:outputText value="Genre"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.desgenre}" />
                                                </p:column>

                                                <p:column width="350" filterBy="#{item.endemisme}">
                                                    <f:facet name="header">
                                                        <h:outputText value="Endemisme"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.endemisme}" />
                                                </p:column>

                                                <p:column width="350" filterBy="#{item.statutmigratoire}">
                                                    <f:facet name="header">
                                                        <h:outputText value="Statut migratoire"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.statutmigratoire}" />
                                                </p:column>

                                                <p:column width="350" filterBy="#{item.desstatutiucn}">
                                                    <f:facet name="header">
                                                        <h:outputText value="Statut IUCN"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.desstatutiucn}" />
                                                </p:column>

                                                <p:column width="350" filterBy="#{item.statutcites}">
                                                    <f:facet name="header">
                                                        <h:outputText value="Statut CITES"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.statutcites}" />
                                                </p:column>



                                            </p:dataTable>
                                            <p><img src="assets/img/endemique.PNG" width="25" height="25"/> Espèce endémique <img src="assets/img/normal.PNG" width="25" height="25"/> Espèce non endémique </p>


                                        </h:form>
                                    </f:view>
                                </div>

                            </div>
                        </div>
                    </div>


                    <!-- Content Row -->


                </section><!--wrapper -->
            </section><!-- /MAIN CONTENT -->

            <!--main content end-->
            <!--footer start-->
            <footer class="site-footer">
                <div class="text-center">
                    2019 &copy; BERAVINA Andrinantenaina Jean Stephanini
                    <a href="#" class="go-top">
                        <i class="fa fa-angle-up"></i>
                    </a>
                </div>
            </footer>
            <!--footer end-->
        </section>

        <!-- js placed at the end of the document so the pages load faster -->
        <script src="assets/js/jquery.js"></script>
        <script src="assets/js/bootstrap.min.js"></script>
        <script src="assets/js/jquery-ui-1.9.2.custom.min.js"></script>
        <script src="assets/js/jquery.ui.touch-punch.min.js"></script>
        <script class="include" type="text/javascript" src="assets/js/jquery.dcjqaccordion.2.7.js"></script>
        <script src="assets/js/jquery.scrollTo.min.js"></script>
        <script src="assets/js/jquery.nicescroll.js" type="text/javascript"></script>


        <!--common script for all pages-->
        <script src="assets/js/common-scripts.js"></script>

        <!--script for this page-->

        <script>
            //custom select box

            $(function () {
                $('select.styled').customSelect();
            });

        </script>
    </h:body>
</html>


